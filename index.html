<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rahul Arya | Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            background-color: #141414;
            font-family: 'Inter', sans-serif;
            color: #fff;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        
        section {
            scroll-margin-top: 5rem; /* Offset for fixed navbar */
        }
        
        /* Full Page Parallax Background Effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2071&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* This creates the parallax effect */
            z-index: -2;
            opacity: 0.1; /* Soften the background image */
        }

        .header-bg {
            background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070&auto=format&fit=crop');
            background-size: 110%; /* Corrected for parallax effect */
            background-position: center;
        }

        .card-row {
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding: 0 1rem; /* Padding for mobile */
        }
        @media (min-width: 768px) {
            .card-row {
                padding: 0; /* Desktop relies on main container padding */
            }
        }
        .card-row::-webkit-scrollbar {
            display: none;
        }
        
        /* 3D Tilt Effect on Cards with Enhanced Glow */
        .card {
            transition: transform 0.2s ease-out, box-shadow 0.3s ease, border-color 0.3s ease;
            cursor: pointer;
            flex-shrink: 0;
            transform-style: preserve-3d;
            border: 3px solid transparent; /* Thicker transparent border */
        }
        .card:hover {
            box-shadow: 0 15px 30px rgba(0,0,0,0.7), 0 0 30px 4px rgba(229, 9, 20, 0.6);
        }
        .card.active {
            border-color: #E50914; /* Bright red border when active */
            box-shadow: 0 0 30px 4px rgba(229, 9, 20, 0.6);
        }
        
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        .ai-chat-bubble {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #E50914;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .skill-tag {
            transition: all 0.2s ease-in-out;
        }
        .skill-tag:hover {
            background-color: #E50914;
            color: #fff;
            transform: translateY(-2px);
        }
        .top-nav {
            transition: background-color 0.3s ease-in-out;
        }
        .top-nav.scrolled {
            background-color: rgba(20, 20, 20, 0.9);
            backdrop-filter: blur(5px);
        }
        
        /* Scroll Animations */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .card-row {
                flex-direction: column;
                align-items: center;
                gap: 1.5rem;
                overflow-x: visible;
            }
            .card {
                width: 90%;
            }
            .nav-links {
                display: none; /* Hide nav links, could be replaced with hamburger */
            }
        }
        
        /* Refined Logo Style */
        .logo-text {
            background: linear-gradient(to right, #E50914, #f03e3e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

    </style>
</head>
<body class="bg-[#141414]">

    <!-- Top Navigation -->
    <nav id="top-nav" class="fixed top-0 left-0 right-0 z-40 p-4 md:px-12 flex justify-between items-center top-nav">
        <a href="#" class="text-2xl font-bold"><span class="logo-text">RA</span></a>
        <div class="nav-links hidden md:flex items-center space-x-6 text-sm">
            <a href="#" class="hover:text-gray-300">Home</a>
            <a href="#experience" class="hover:text-gray-300">Experience</a>
            <a href="#projects" class="hover:text-gray-300">Projects</a>
            <a href="#skills" class="hover:text-gray-300">Skills</a>
            <a href="#contact" class="hover:text-gray-300">Contact</a>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="h-[80vh] md:h-[90vh] header-bg relative pt-16">
        <div class="absolute inset-0 bg-gradient-to-t from-[#141414] via-black/70 to-black/30"></div>
        <div class="relative z-10 flex flex-col justify-end h-full p-4 md:p-12 space-y-4">
            <h1 class="text-5xl md:text-7xl font-extrabold text-white tracking-tighter reveal">Rahul Arya</h1>
            <p class="text-xl md:text-2xl text-gray-300 max-w-2xl reveal" style="transition-delay: 0.2s;">Economist & Data Scientist. Turning economic intuition into data-driven solutions with AI & Machine Learning.</p>
            <div class="flex items-center space-x-4 flex-wrap gap-y-4 reveal" style="transition-delay: 0.4s;">
                <a href="#projects" class="px-8 py-3 bg-white text-black font-bold rounded hover:bg-gray-200 transition-transform hover:scale-105">View Work</a>
                <button id="ai-assistant-btn" class="px-8 py-3 bg-red-600 text-white font-bold rounded hover:bg-red-700 transition-transform hover:scale-105">Ask My AI</button>
                <a href="#contact" class="px-8 py-3 bg-transparent border-2 border-white text-white font-bold rounded hover:bg-white hover:text-black transition-transform hover:scale-105">Contact Me</a>
            </div>
        </div>
    </header>
    

    <main class="py-12 px-4 md:px-12 space-y-16">

        <!-- Professional Experience Section -->
        <section id="experience" class="reveal">
            <h3 class="category-title text-2xl font-bold mb-4">PROFESSIONAL EXPERIENCE</h3>
            <div class="card-row-container -mx-4 md:-mx-12">
                <div class="flex space-x-4 overflow-x-auto pb-4 card-row px-4 md:px-12">
                    <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Credit Risk Modelling Intern" data-description="Developed ML models for credit risk at the Central Bank of India, integrating banking domain knowledge (NPA, DPD) with advanced feature engineering. Implemented end-to-end workflows and integrated Basel III and PAR metrics to ensure regulatory compliance." data-image="https://images.unsplash.com/photo-1579532582937-16c108930bf6?q=80&w=1974&auto=format&fit=crop">
                        <img src="https://images.unsplash.com/photo-1579532582937-16c108930bf6?q=80&w=1974&auto=format&fit=crop" alt="Financial Institution Building" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Central Bank of India</h4></div>
                    </div>
                    <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Product Manager Intern" data-description="Led initiatives boosting user engagement by 18% at Beyondriffs. Refined project roadmaps, fostered team collaboration, and spearheaded market research with over 250 users to drive data-informed product decisions." data-image="https://images.unsplash.com/photo-1556761175-b413da4baf72?q=80&w=1974&auto=format&fit=crop">
                        <img src="https://images.unsplash.com/photo-1556761175-b413da4baf72?q=80&w=1974&auto=format&fit=crop" alt="Tech Company" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Beyondriffs (Product)</h4></div>
                    </div>
                    <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Marketing Intern" data-description="Utilized insights from over 100 surveys to develop customer-centric marketing strategies at Beyondriffs. Built compelling product narratives and value propositions to support sales and marketing campaigns." data-image="https://images.unsplash.com/photo-1557804506-669a67965ba0?q=80&w=1974&auto=format&fit=crop">
                        <img src="https://images.unsplash.com/photo-1557804506-669a67965ba0?q=80&w=1974&auto=format&fit=crop" alt="Marketing Strategy" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Beyondriffs (Marketing)</h4></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="reveal">
            <h3 class="category-title text-2xl font-bold mb-4">FEATURED PROJECTS</h3>
            <div class="card-row-container -mx-4 md:-mx-12">
                <div class="flex space-x-4 overflow-x-auto pb-4 card-row px-4 md:px-12">
                     <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Farmer Income Prediction" data-description="Developed a model integrating demographic, agronomic, climatic, and market data, achieving an R² of 0.7513 with an XGBoost+LightGBM ensemble." data-image="https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=1974&auto=format&fit=crop" data-link="https://rahularya014.github.io/Farmer-income-Demo/">
                        <img src="https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=1974&auto=format&fit=crop" alt="Farmer examining crops" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Farmer Income Prediction</h4></div>
                    </div>
                    <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="AMEX Offer Engagement Forecasting" data-description="Achieved AIR 422 in the AMEX Campus Challenge. Engineered 400+ features and built an optimized XGB+LGBM model (AUC 0.82, 78% precision). Designed Click Momentum and adaptive time-decay features, boosting performance by 15%." data-image="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop" data-link="https://rahularya014.github.io/Predictive-Modeling-for-Customer-Engagement-with-Offers-using-AMEX-Data-/">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop" alt="Data Science Analyst Dashboard" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">AMEX Offer Engagement</h4></div>
                    </div>
                     <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Credit Card Fraud Detection" data-description="Designed a Keras autoencoder on over 227K transactions, achieving a ROC-AUC of 0.95 for anomaly detection. Also built a Sklearn pipeline with 93.4% test accuracy." data-image="https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2070&auto=format&fit=crop" data-link="#">
                        <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?q=80&w=2070&auto=format&fit=crop" alt="Credit Card Fraud Detection" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Credit Card Fraud Detection</h4></div>
                    </div>
                     <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="AI-Powered Supply Chain Analytics" data-description="Automated a full ETL pipeline using N8N. Leveraged Quadratic AI for prompt-based KPI computation, auto-generating SQL logic and visual insights to accelerate decision-making." data-image="https://images.unsplash.com/photo-1578575437130-527eed3abbec?q=80&w=2070&auto=format&fit=crop" data-link="#">
                        <img src="https://images.unsplash.com/photo-1578575437130-527eed3abbec?q=80&w=2070&auto=format&fit=crop" alt="Supply Chain Logistics" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">AI Supply Chain Analytics</h4></div>
                    </div>
                     <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="Impact of COVID-19 on Indian Economy" data-description="Analyzed secondary data on COVID-19's economic impact, noting a 23.9% GDP drop in Q1 2020-21 and a significant 37% export decline." data-image="https://images.unsplash.com/photo-1584036561566-baf8f5f1b144?q=80&w=2070&auto=format&fit=crop" data-link="#">
                        <img src="https://images.unsplash.com/photo-1584036561566-baf8f5f1b144?q=80&w=2070&auto=format&fit=crop" alt="Stock market graph during pandemic" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">COVID-19 Economic Impact</h4></div>
                    </div>
                </div>
            </div>
        </section>

         <!-- Education Section -->
        <section id="education" class="reveal">
            <h3 class="category-title text-2xl font-bold mb-4">EDUCATION</h3>
            <div class="card-row-container -mx-4 md:-mx-12">
                <div class="flex space-x-4 overflow-x-auto pb-4 card-row px-4 md:px-12">
                    <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="M.A. Economics" data-description="Currently pursuing a Master's degree in Economics from one of India's premier institutions, focusing on advanced economic theory, econometrics, and quantitative analysis." data-image="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?q=80&w=1974&auto=format&fit=crop">
                        <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?q=80&w=1974&auto=format&fit=crop" alt="Delhi School of Economics Campus" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">Delhi School of Economics</h4></div>
                    </div>
                     <div class="card w-72 bg-[#282828] rounded-lg overflow-hidden" data-title="B.A. (H) Economics" data-description="Graduated with a Bachelor's degree in Economics, building a strong foundation in microeconomics, macroeconomics, statistics, and mathematical methods for economics." data-image="https://images.unsplash.com/photo-1562774053-701939374585?q=80&w=2086&auto=format&fit=crop">
                        <img src="https://images.unsplash.com/photo-1562774053-701939374585?q=80&w=2086&auto=format&fit=crop" alt="University College" class="w-full h-40 object-cover">
                        <div class="card-content p-4"><h4 class="font-bold text-lg">University of Delhi</h4></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="reveal">
            <h3 class="category-title text-2xl font-bold mb-4">SKILLS</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-300">Technical Skills</h4>
                    <div class="flex flex-wrap gap-2">
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8.01 4.75a.25.25 0 0 0-.25.25v.733a.25.25 0 0 0 .5 0V5a.25.25 0 0 0-.25-.25zM7.51 6.233a.25.25 0 0 1 .492 0l.92 1.839a.25.25 0 0 1-.22.328H6.81a.25.25 0 0 1-.22-.328l.92-1.84zM8 9.25a.25.25 0 0 0-.25.25v2a.25.25 0 0 0 .5 0v-2a.25.25 0 0 0-.25-.25z"/><path d="M.64 5.34a.5.5 0 0 1 .433-.245l1.32-.19a.5.5 0 0 1 .58.58l-.2 1.32a.5.5 0 0 1-.61.373L.84 7.02a.5.5 0 0 1-.2-.68zm14.72 0a.5.5 0 0 1 .2.68l-1.32.19a.5.5 0 0 1-.61-.374l.2-1.32a.5.5 0 0 1 .58-.58l1.32.19a.5.5 0 0 1 .433.245zM4.75 1.49a.25.25 0 0 0-.25-.25H3.51a.25.25 0 0 0 0 .5h.99a.25.25 0 0 0 .25-.25zM6.233 2.49a.25.25 0 0 1 .328.22l-1.84.92a.25.25 0 0 1-.328-.22l1.84-.92a.25.25 0 0 1 .22-.22zm5.534 0a.25.25 0 0 1 .22.22l-1.84.92a.25.25 0 0 1-.328-.22l1.84-.92a.25.25 0 0 1 .328-.22zM11.25 1.49a.25.25 0 0 0-.25-.25h-.99a.25.25 0 0 0 0 .5h.99a.25.25 0 0 0 .25-.25zM15.36 5.34a.5.5 0 0 1-.2.68L13.84 7.21a.5.5 0 0 1-.61-.373l.2-1.32a.5.5 0 0 1 .58-.58l1.32.19a.5.5 0 0 1 .433.245zM3.84 6.21a.5.5 0 0 1-.61.374l-1.32-.19a.5.5 0 0 1-.2-.68.5.5 0 0 1 .434-.245l1.32.19a.5.5 0 0 1 .58.58l-.2 1.32zM8.5 16a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17zM8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13z"/></svg> Python</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">MySQL</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Data Analysis</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Power BI</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">MS Excel</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Machine Learning</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">XGBoost</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">LightGBM</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Scikit-learn</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Keras</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Dask</span>
                    </div>
                </div>
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-300">Interpersonal Skills</h4>
                    <div class="flex flex-wrap gap-2">
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Leadership</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Teamwork</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Problem-Solving</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Adaptability</span>
                        <span class="skill-tag bg-gray-700 text-gray-200 px-3 py-1 rounded-full">Quick Learner</span>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- Footer Section -->
    <footer id="contact" class="py-12 px-4 md:px-12 border-t border-gray-800 reveal">
        <div class="max-w-4xl mx-auto text-center">
            <h3 class="text-3xl font-bold mb-4">Get In Touch</h3>
            <p class="text-gray-400 max-w-xl mx-auto mb-8">I'm currently open to new opportunities. Feel free to reach out for collaborations or just a friendly chat.</p>
            <div class="flex justify-center items-center space-x-6 mb-8">
                <a href="mailto:rahularyajii2002@gmail.com" class="text-gray-400 hover:text-white transition-transform hover:scale-110" title="Email">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg>
                </a>
                <a href="https://www.linkedin.com/in/rahul-arya-034214221" target="_blank" class="text-gray-400 hover:text-white transition-transform hover:scale-110" title="LinkedIn">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                </a>
                <a href="https://github.com/rahularya014" target="_blank" class="text-gray-400 hover:text-white transition-transform hover:scale-110" title="GitHub">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                </a>
            </div>
             <a href="mailto:rahularyajii2002@gmail.com?subject=Resume%20Request%_20from%20Portfolio" class="inline-block px-8 py-3 bg-red-600 text-white font-bold rounded hover:bg-red-700 transition-transform hover:scale-105">Request Resume</a>
             <p class="text-gray-500 mt-8">&copy; 2024 Rahul Arya. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Project Detail Modal -->
    <div id="project-modal" class="modal fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-[#181818] rounded-lg max-w-2xl w-full overflow-hidden">
            <div class="relative">
                <img id="modal-image" src="" alt="Project Image" class="w-full h-64 object-cover">
                <button id="close-project-modal" class="absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 text-2xl leading-none">&times;</button>
            </div>
            <div class="p-6">
                <h3 id="modal-title" class="text-2xl font-bold mb-2"></h3>
                <p id="modal-description" class="text-gray-300 mb-4"></p>
                <a id="modal-link" href="#" target="_blank" class="inline-block px-6 py-2 bg-red-600 text-white font-bold rounded hover:bg-red-700 transition-colors">View Project</a>
            </div>
        </div>
    </div>

    <!-- AI Assistant Modal -->
    <div id="ai-modal" class="modal fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden opacity-0">
        <div class="bg-[#181818] rounded-lg max-w-lg w-full flex flex-col h-[70vh]">
            <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                <h3 class="text-xl font-bold">Rahul's Personal Assistant</h3>
                <button id="close-ai-modal" class="text-white text-2xl">&times;</button>
            </div>
            <div id="ai-chat-box" class="flex-grow p-4 overflow-y-auto space-y-4">
                <div class="ai-chat-bubble p-3 bg-gray-700 rounded-lg max-w-xs">
                    <p>Hello! I'm Rahul's personal assistant. Ask me anything about his skills, projects, or experience.</p>
                </div>
            </div>
            <div class="p-4 border-t border-gray-700 flex items-center">
                <input type="text" id="ai-input" class="flex-grow bg-gray-700 rounded-l-md p-3 focus:outline-none" placeholder="e.g., 'Tell me about his internships.'">
                <button id="ai-send-btn" class="bg-red-600 text-white font-bold px-6 py-3 rounded-r-md">Send</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Navbar scroll effect
            const nav = document.getElementById('top-nav');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
            });
            
            // Header background parallax effect
            if (window.innerWidth > 768) {
                const header = document.querySelector('.header-bg');
                window.addEventListener('mousemove', (e) => {
                    const { clientX, clientY } = e;
                    const x = (clientX / window.innerWidth - 0.5) * 40; // Intensity
                    const y = (clientY / window.innerHeight - 0.5) * 40;

                    header.style.backgroundPosition = `calc(50% + ${x}px) calc(50% + ${y}px)`;
                });
            }
            
            // Re-added 3D Card Tilt Effect
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const { width, height } = rect;
                    const rotateX = (y / height - 0.5) * -15; // Intensity
                    const rotateY = (x / width - 0.5) * 15;

                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
                });
            });


            const projectCards = document.querySelectorAll('.card');
            const projectModal = document.getElementById('project-modal');
            const closeModalBtn = document.getElementById('close-project-modal');
            let activeCard = null; // Keep track of the active card
            
            projectCards.forEach(card => {
                card.addEventListener('click', () => {
                    // Remove active class from previous card
                    if(activeCard) {
                        activeCard.classList.remove('active');
                    }
                    
                    const title = card.dataset.title;
                    const description = card.dataset.description;
                    const image = card.dataset.image;
                    const link = card.dataset.link;

                    document.getElementById('modal-title').textContent = title;
                    document.getElementById('modal-description').textContent = description;
                    document.getElementById('modal-image').src = image;
                    const modalLink = document.getElementById('modal-link');
                    
                    if (link && link !== '#') {
                       modalLink.href = link;
                       modalLink.style.display = 'inline-block';
                    } else {
                       modalLink.style.display = 'none';
                    }
                    
                    // Add active class to current card
                    card.classList.add('active');
                    activeCard = card;

                    projectModal.classList.remove('hidden');
                    setTimeout(() => projectModal.classList.remove('opacity-0'), 10);
                });
            });

            const closeProjectModal = () => {
                projectModal.classList.add('opacity-0');
                 if(activeCard) {
                    activeCard.classList.remove('active');
                    activeCard = null;
                }
                setTimeout(() => projectModal.classList.add('hidden'), 300);
            };

            closeModalBtn.addEventListener('click', closeProjectModal);
            projectModal.addEventListener('click', (e) => {
                if (e.target === projectModal) {
                    closeProjectModal();
                }
            });

            // AI Assistant Modal Logic
            const aiModal = document.getElementById('ai-modal');
            const openAiModalBtn = document.getElementById('ai-assistant-btn');
            const closeAiModalBtn = document.getElementById('close-ai-modal');
            const aiSendBtn = document.getElementById('ai-send-btn');
            const aiInput = document.getElementById('ai-input');
            const aiChatBox = document.getElementById('ai-chat-box');
            
            const apiKey = 'AIzaSyApKgS7FuiwUB2GDTEU8nKDj0Pv9fWS3a0';
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const openAiModal = () => {
                aiModal.classList.remove('hidden');
                setTimeout(() => aiModal.classList.remove('opacity-0'), 10);
            }
            
            const closeAiModal = () => {
                aiModal.classList.add('opacity-0');
                setTimeout(() => aiModal.classList.add('hidden'), 300);
            }

            openAiModalBtn.addEventListener('click', openAiModal);
            closeAiModalBtn.addEventListener('click', closeAiModal);
            
            const addMessageToChat = (message, sender) => {
                const bubble = document.createElement('div');
                bubble.classList.add('ai-chat-bubble', 'p-3', 'rounded-lg', 'max-w-md');
                if (sender === 'user') {
                    bubble.classList.add('bg-red-600', 'self-end', 'ml-auto');
                } else {
                    bubble.classList.add('bg-gray-700', 'self-start');
                }
                bubble.innerHTML = message; // Use innerHTML to render formatted response
                aiChatBox.appendChild(bubble);
                aiChatBox.scrollTop = aiChatBox.scrollHeight;
            };
            
            function formatAIResponse(text) {
                // Use a more robust markdown-to-HTML conversion
                let html = text
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                    .replace(/^- (.*$)/gm, '<li>$1</li>'); // List items start

                // Wrap consecutive list items in a <ul> tag
                if (html.includes('<li>')) {
                    html = '<ul>' + html.replace(/<\/li>\n<li>/g, '</li><li>') + '</ul>';
                    html = html.replace(/<\/li><ul>/g, '</li></ul><ul>').replace(/<\/ul><li>/g, '</ul><ul><li>');
                }

                return html.replace(/\n/g, '<br>'); // Handle paragraphs
            }

            const handleAIChat = async () => {
                const userQuery = aiInput.value.trim();
                if (!userQuery) return;

                addMessageToChat(`<p>${userQuery}</p>`, 'user');
                aiInput.value = '';
                addMessageToChat('<div class="loading-spinner"></div>', 'ai');

                try {
                    const portfolioContext = `
                        **Personal Information:**
                        Name: Rahul Arya
                        Email: rahularyajii2002@gmail.com
                        Portfolio: https://rahularya014.github.io/rahularya014/

                        **Education:**
                        - M.A. Economics, Delhi School of Economics (2024-2026, Marks: 5.15/10)
                        - B.A. (H) Economics, Satyawati College, University of Delhi (2023, Marks: 7.37/10)
                        - Class XII (CBSE), Millia Convent English School, Purnia (2020, Marks: 80.20%)
                        - Class X (CBSE), Millia Convent English School, Purnia (2018, Marks: 76.40%)

                        **Academic Achievements:**
                        - Secured AIR 66 in IIT Delhi M.Sc. Economics Entrance Exam (2024).
                        - Received M.A. Economics admission offers from DTU, Madras School of Economics, GIPE, CDS, Ashoka University (2024).

                        **Internships:**
                        - Credit Risk Modelling Intern, Central Bank of India (2025): Developed expertise in credit risk modeling using ML, banking data (NPA, DPD), various statistical tests (ANOVA, Chi-square), and models like XGBoost & Random Forest. Evaluated models using precision, recall, F1, MAPE, and RMSE. Integrated Basel III and PAR metrics.
                        - Product Manager & Marketing Intern, Beyondriffs (2024): Boosted user engagement by 18%, refined roadmaps, conducted extensive user research (250+ interactions, 100+ surveys), and created product narratives.

                        **Academic Projects:**
                        - Predicting Farmers’ Income in India (2025): Integrated demographic, climatic, and market data. Used Lasso feature selection and an XGBoost+LightGBM ensemble to achieve R² of 0.7513. Deployed a REST API.
                        - Credit Card Fraud Detection (2025): Trained a Keras autoencoder on 227K+ transactions (ROC-AUC ≈ 0.95) and a Sklearn pipeline (93.4% test accuracy).
                        - AI-Powered Supply Chain Analytics (2025): Built an automated ETL pipeline with N8N and Supabase. Used Quadratic AI for dynamic KPI computation.
                        - Impact of COVID-19 on Indian Economy (2022): Analyzed a 23.9% GDP contraction and a 37% export decline in Q2 2020.

                        **Positions of Responsibility:**
                        - House Captain, Millia Convent English School (2018): Organized school events, demonstrated leadership and teamwork.

                        **Extracurricular Activities:**
                        - AMEX Campus Challenge (2025): Achieved AIR 422 with an Offer Engagement Forecasting Model (AUC 0.82). Engineered 400+ features.
                        - Hackathon Participation (2025): Participated in national-level hackathons by Amex, L'Oréal, and TVS.
                        - Coordinator, Optima Economics Society, Satyawati College (2023).

                        **Skills:**
                        - Technical: Python, Machine Learning (ML), MySQL, MS Excel, MS PowerPoint, Power BI.
                        - Interpersonal: Teamwork, Quick Learner, Leadership, Adaptability, Avid Learner.

                        **Certifications:**
                        - Career Essentials in Data Analysis by Microsoft and LinkedIn.
                        - Analyzing and Visualizing Data with Microsoft Power BI.
                        - MySQL 5.6 Database Administrator.
                        - Python for Beginners.
                    `;

                    const systemPrompt = `You are Rahul Arya's personal AI assistant. Your goal is to answer questions based ONLY on the provided, detailed context from his CV. Be friendly, professional, and concise. Do not invent information. Explicitly ignore any phone number or physical address. If the answer is not in the context, say "I can only answer questions based on the information in Rahul's portfolio and CV." Context: ${portfolioContext}`;
                    
                    const payload = {
                        contents: [{ parts: [{ text: userQuery }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                    };

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API error: ${response.statusText}`);
                    }

                    const result = await response.json();
                    const aiResponse = result.candidates[0].content.parts[0].text;
                    
                    const loadingBubble = aiChatBox.querySelector('.loading-spinner').parentElement;
                    loadingBubble.innerHTML = formatAIResponse(aiResponse); // Use the formatter here
                    aiChatBox.scrollTop = aiChatBox.scrollHeight;


                } catch (error) {
                    const loadingBubble = aiChatBox.querySelector('.loading-spinner').parentElement;
                    loadingBubble.innerHTML = `<p>Sorry, I'm having trouble connecting right now. Please try again later.</p>`;
                    console.error('AI Chat Error:', error);
                }
            };

            aiSendBtn.addEventListener('click', handleAIChat);
            aiInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    handleAIChat();
                }
            });

            // Scroll reveal animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            document.querySelectorAll('.reveal').forEach(el => {
                observer.observe(el);
            });

        });
    </script>
</body>
</html>

